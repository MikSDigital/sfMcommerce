{% extends 'TicmeBackBundle::layout.html.twig' %}

{% block content %}
    {{ parent() }}
    {% if form_errors(edit_form) %}
        <div class="alert alert-danger alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            <h4><i class="icon fa fa-ban"></i> Alerte!</h4>
            Tous les champs de votre formulaire n'ont pas été validé.
        </div>
    {% endif %}
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Editer un tilisateur</h3>
        </div><!-- /.box-header -->
        {{ form_start(edit_form, {'attr': { novalidate: 'novalidate' ,'role': 'form' }, 'multipart': { form_enctype: true }}) }}
        <div class="box-body">
            {#{{ dump(formProduct) }}#}
            {{ form_errors(edit_form) }}

            {{ form_label(edit_form.username) }}
            <div class="form-group {% if form_errors(edit_form.username) %} has-error {% endif %}">
                {{ form_errors(edit_form.username) }}
                {{ form_widget(edit_form.username, { 'attr': {'class': 'form-control', 'placeholder': 'Username'} }) }}
            </div>

            {{ form_label(edit_form.email) }}
            <div class="form-group {% if form_errors(edit_form.email) %} has-error {% endif %}">
                {{ form_errors(edit_form.email) }}
                {{ form_widget(edit_form.email, { 'attr': {'class': 'form-control', 'placeholder': 'Email'} }) }}
            </div>

            {{ form_label(edit_form.password.first) }}
            <div class="form-group {% if form_errors(edit_form.password.first) %} has-error {% endif %}">
                {{ form_errors(edit_form.password.first) }}
                {{ form_widget(edit_form.password.first, { 'attr': {'class': 'form-control', 'placeholder': 'Mot de passe'} }) }}
            </div>

            {{ form_label(edit_form.password.second) }}
            <div class="form-group {% if form_errors(edit_form.password.second) %} has-error {% endif %}">
                {{ form_errors(edit_form.password.second) }}
                {{ form_widget(edit_form.password.second, { 'attr': {'class': 'form-control', 'placeholder': 'Vérification mot de passe'} }) }}
            </div>

            {{ form_label(edit_form.roles) }}
            <div class="form-group {% if form_errors(edit_form.roles) %} has-error {% endif %}">
                {{ form_errors(edit_form.roles) }}
                {{ form_widget(edit_form.roles, { 'attr': {'class': 'form-control', 'placeholder': 'Valide'} }) }}
            </div>

            <div class="box-footer">
                {{ form_widget(edit_form.submit, { 'label' : 'Mettre à jour', 'attr': {'class': 'btn btn-primary', 'data-loading-text': 'Mettre à jour'} }) }}
                <a href="{{ path('user') }}" class="btn btn-default"><i class="fa fa-mail-reply"></i> Revenir à la liste des utilisateur</a>
            </div>
            {{ form_widget(edit_form._token) }}
        </div>
        {{ form_end(edit_form) }}
    </div>
{% endblock %}
